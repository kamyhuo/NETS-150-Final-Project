{"ast":null,"code":"import _classCallCheck from \"/Users/varunramakrishnan/nets150finalproject/client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/varunramakrishnan/nets150finalproject/client/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/varunramakrishnan/nets150finalproject/client/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/varunramakrishnan/nets150finalproject/client/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/varunramakrishnan/nets150finalproject/client/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/varunramakrishnan/nets150finalproject/client/src/RestaurantList.jsx\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport ReactDOM from 'react-dom';\nimport Carousel from 'nuka-carousel';\n\nvar Cl =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Cl, _React$Component);\n\n  function Cl(props) {\n    _classCallCheck(this, Cl);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(Cl).call(this, props));\n  }\n\n  _createClass(Cl, [{\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        style: {\n          width: \"700px\",\n          margin: \"auto\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 15\n        },\n        __self: this\n      }, React.createElement(Carousel, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 16\n        },\n        __self: this\n      }, this.props.like.map(function (like) {\n        return React.createElement(\"h4\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 19\n          },\n          __self: this\n        }, like);\n      })));\n    }\n  }]);\n\n  return Cl;\n}(React.Component);\n\nvar RestaurantList =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(RestaurantList, _Component);\n\n  function RestaurantList(props) {\n    var _this;\n\n    _classCallCheck(this, RestaurantList);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(RestaurantList).call(this, props)); //props.state is linked with the result sending back from its child a.k.a the result we returned in SearchForm element\n\n    _this.getRestaurantsFromApi = function (cuisine, price) {\n      //UI feedback to tell the user when we are retrieving infromation from the API \n      _this.setState({\n        loading: true\n      }); //using a proxy server cors-anywhere to get rid of the CROS probblem \n      //SUPER HOT TIP: passing the location variable, which equals to the user's input (see below). Instead of grabbbing the entire API, it will only retrieve the restaurants that are closed to the lcoation information we entered. This makes the lodading wayyyyyyy faster.\n\n\n      axios.get('https://cors-anywhere.herokuapp.com/'.concat(\"https://api.yelp.com/v3/businesses/search?location=Philadelphia\"), {\n        //required authorization format from API \n        headers: {\n          Authorization: \"Bearer bViYiVvQPGlIKygKlkCrFgsNcCnyNGJgUDCvTSG7dgooeyBjzEM-WzlkVhYsvItlMU-rNDno368sOtZxg2TWtpMgJXmyFIUSXgFzaK8UdwWOXQEL9sbY1yEZoCC5XHYx\"\n        },\n        params: {\n          categories: cuisine,\n          price: price\n        }\n      }).then(function (res) {\n        console.log(res.data.businesses); //change the state of App to reflect on the result we are given from the API\n        //at the same time, setting the loading state to false \n\n        _this.setState({\n          results: res.data.businesses,\n          loading: false\n        });\n      }).catch(function (err) {\n        //fire the errorState message if there is no information return from the API\n        _this.setState({\n          errorState: \"Sorry we coudln't find information related to the location you search, do you want to try something else?\",\n          loading: false\n        });\n      });\n    };\n\n    _this.state = {\n      //leverage the state to store the information return from API to make loading faster\n      results: [],\n      errorState: null,\n      loading: false,\n      i: 0,\n      yes: [],\n      no: [],\n      id: [],\n      like: [],\n      all: null\n    };\n    return _this;\n  }\n\n  _createClass(RestaurantList, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.getRestaurantsFromApi(this.props.cuisine, this.props.price);\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps, prevState) {\n      var _this2 = this;\n\n      if (this.props.cuisine !== prevProps.cuisine) {\n        this.setState({\n          results: []\n        }, function () {\n          return _this2.getRestaurantsFromApi(_this2.props.cuisine, _this2.props.price);\n        });\n      }\n\n      if (this.props.price !== prevProps.price) {\n        this.setState({\n          results: []\n        }, function () {\n          return _this2.getRestaurantsFromApi(_this2.props.cuisine, _this2.props.price);\n        });\n      }\n    } //function to get information from API \n\n  }, {\n    key: \"renderEmptyState\",\n    value: function renderEmptyState() {\n      return React.createElement(\"h2\", {\n        className: \"heading-tertiary\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97\n        },\n        __self: this\n      }, \"We're working on finding your favorite restaurants in Philly! If you keep seeing this message, please click \\\"Search again\\\" and search within a different category.\");\n    }\n  }, {\n    key: \"renderRestaurantInfo\",\n    value: function renderRestaurantInfo() {\n      var _this3 = this;\n\n      var RestaruantList = this.state.results.map(function (result) {\n        _this3.state.id.push(result.id);\n\n        return React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 106\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"RestaurantInfo\",\n          key: result.id,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 107\n          },\n          __self: this\n        }, React.createElement(\"img\", {\n          src: result.image_url,\n          height: \"320px\",\n          alt: \"\",\n          className: \"RestaurantInfo__img\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 111\n          },\n          __self: this\n        }), React.createElement(\"h2\", {\n          className: \"heading-tertiary RestaurantInfo__name\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 112\n          },\n          __self: this\n        }, result.name), React.createElement(\"p\", {\n          className: \"RestaurantInfo__para\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 114\n          },\n          __self: this\n        }, React.createElement(FontAwesomeIcon, {\n          icon: \"map-marker-alt\",\n          className: \"RestaurantInfo__icon\",\n          \"aria-label\": \"address:\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 115\n          },\n          __self: this\n        }), result.location.display_address[0], \", \", result.location.display_address[1]), React.createElement(\"p\", {\n          className: \"RestaurantInfo__para\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 122\n          },\n          __self: this\n        }, React.createElement(FontAwesomeIcon, {\n          icon: \"phone\",\n          className: \"RestaurantInfo__icon\",\n          \"aria-label\": \"phone number:\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 123\n          },\n          __self: this\n        }), result.phone), React.createElement(\"img\", {\n          src: require(\"./assets/yelp_stars/regular/\".concat(result.rating, \".png\")),\n          alt: \"yelp ratings: \".concat(result.rating, \"/5\"),\n          className: \"RestaurantInfo__rating\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 130\n          },\n          __self: this\n        }), React.createElement(\"p\", {\n          className: \"RestaurantInfo__reviewCount\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 135\n          },\n          __self: this\n        }, \" Based on \", result.review_count, \" Reviews\"), React.createElement(\"a\", {\n          href: result.url,\n          className: \"RestaurantInfo__website\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 137\n          },\n          __self: this\n        }, \"More information on Yelp\"), React.createElement(\"a\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 142\n          },\n          __self: this\n        })));\n      });\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 154\n        },\n        __self: this\n      }, this.state.i < 5 ? React.createElement(\"div\", {\n        className: \"RestuarantList__gallery\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 156\n        },\n        __self: this\n      }, RestaruantList[this.state.i], React.createElement(\"h5\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 157\n        },\n        __self: this\n      }, \" Press your choice! \"), React.createElement(\"button\", {\n        onClick: function onClick(e) {\n          _this3.state.no.push(_this3.state.id[_this3.state.i]);\n\n          _this3.setState(function (prevState) {\n            return {\n              i: prevState.i + 1\n            };\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 159\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        src: \"NO.png\",\n        height: \"50px\",\n        width: \"50px\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 161\n        },\n        __self: this\n      })), React.createElement(\"button\", {\n        onClick: function onClick(e) {\n          _this3.state.yes.push(_this3.state.id[_this3.state.i]);\n\n          _this3.state.like.push(React.createElement(\"h4\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 164\n            },\n            __self: this\n          }, React.createElement(\"div\", {\n            className: \"RestuarantList__gallery\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 164\n            },\n            __self: this\n          }, RestaruantList[_this3.state.i])));\n\n          _this3.setState(function (prevState) {\n            return {\n              i: prevState.i + 1\n            };\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 163\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        src: \"YES.png\",\n        height: \"50px\",\n        width: \"50px\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 167\n        },\n        __self: this\n      }))) : null, this.state.i == 5 ? React.createElement(Cl, {\n        like: this.state.like,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 174\n        },\n        __self: this\n      }) : null);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      console.log(this.state.like);\n      return React.createElement(\"section\", {\n        className: \"RestuarantList\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 191\n        },\n        __self: this\n      }, this.state.results.length ? this.renderRestaurantInfo() : this.renderEmptyState(), !!this.state.errorState && React.createElement(\"h1\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 196\n        },\n        __self: this\n      }, this.state.error));\n    }\n  }]);\n\n  return RestaurantList;\n}(Component);\n\nexport default RestaurantList;","map":{"version":3,"sources":["/Users/varunramakrishnan/nets150finalproject/client/src/RestaurantList.jsx"],"names":["React","Component","axios","FontAwesomeIcon","ReactDOM","Carousel","Cl","props","width","margin","like","map","RestaurantList","getRestaurantsFromApi","cuisine","price","setState","loading","get","headers","Authorization","params","categories","then","res","console","log","data","businesses","results","catch","err","errorState","state","i","yes","no","id","all","prevProps","prevState","RestaruantList","result","push","image_url","name","location","display_address","phone","require","rating","review_count","url","e","length","renderRestaurantInfo","renderEmptyState","error"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport axios from 'axios';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport ReactDOM from 'react-dom'\nimport Carousel from 'nuka-carousel';\n\nclass Cl extends React.Component {\n\n    constructor(props) {\n        super(props);\n    }\n\n  render() {\n    return (\n              <div style={{ width: \"700px\", margin: \"auto\" }}>\n          <Carousel >\n        \n        {this.props.like.map(like => {\n        return ( <h4>{like}</h4> )\n      })} \n     \n      </Carousel>\n      </div>\n      \n    );\n  }\n}\n\n\nclass RestaurantList extends Component {\n\n    constructor(props) {\n        super(props);\n        //props.state is linked with the result sending back from its child a.k.a the result we returned in SearchForm element\n        this.state = {\n        //leverage the state to store the information return from API to make loading faster\n        results: [],\n        errorState: null,\n        loading: false,\n        i: 0,\n        yes: [],\n        no: [],\n        id: [],\n        like: [],\n        all: null\n        };\n    }\n    \n    componentDidMount () {\n        this.getRestaurantsFromApi(this.props.cuisine, this.props.price);\n    }\n\n    componentDidUpdate (prevProps, prevState) {\n        if(this.props.cuisine !== prevProps.cuisine) {\n            this.setState({ \n                results: [], \n            }, () => this.getRestaurantsFromApi(this.props.cuisine, this.props.price))\n        }\n\n                if(this.props.price !== prevProps.price) {\n            this.setState({\n                results: [], \n            }, () => this.getRestaurantsFromApi(this.props.cuisine, this.props.price))\n        }\n    }\n    //function to get information from API \n    getRestaurantsFromApi = (cuisine, price) => {\n        //UI feedback to tell the user when we are retrieving infromation from the API \n        this.setState({ loading: true })\n\n        //using a proxy server cors-anywhere to get rid of the CROS probblem \n        //SUPER HOT TIP: passing the location variable, which equals to the user's input (see below). Instead of grabbbing the entire API, it will only retrieve the restaurants that are closed to the lcoation information we entered. This makes the lodading wayyyyyyy faster.\n        axios.get(`${'https://cors-anywhere.herokuapp.com/'}https://api.yelp.com/v3/businesses/search?location=Philadelphia`, {\n        //required authorization format from API \n        headers: {\n            Authorization: `Bearer bViYiVvQPGlIKygKlkCrFgsNcCnyNGJgUDCvTSG7dgooeyBjzEM-WzlkVhYsvItlMU-rNDno368sOtZxg2TWtpMgJXmyFIUSXgFzaK8UdwWOXQEL9sbY1yEZoCC5XHYx`\n        },\n        params: {\n            categories: cuisine,\n            price: price\n        }\n        })\n        .then((res) => {\n            console.log(res.data.businesses)\n            //change the state of App to reflect on the result we are given from the API\n            //at the same time, setting the loading state to false \n            this.setState({ results: res.data.businesses, loading: false })\n        })\n        .catch((err) => {\n            //fire the errorState message if there is no information return from the API\n            this.setState({ errorState: `Sorry we coudln't find information related to the location you search, do you want to try something else?`, loading: false })\n        })\n    }\n\n    renderEmptyState () {\n        return (\n            <h2 className = \"heading-tertiary\">We're working on finding your favorite restaurants in Philly! If you keep seeing this message, please click \"Search again\" and search within a different category.</h2>\n        )\n    }\n\n    renderRestaurantInfo () {\n\n        const RestaruantList = this.state.results.map((result) => {\n            this.state.id.push(result.id);\n            return (    \n                <div>\n                <div \n                    className = \"RestaurantInfo\"\n                    key = {result.id}\n                >\n                    <img src = {result.image_url} height = \"320px\" alt = \"\" className = \"RestaurantInfo__img\" />\n                    <h2 className = \"heading-tertiary RestaurantInfo__name\">{result.name}</h2>\n                    \n                    <p className = \"RestaurantInfo__para\">\n                        <FontAwesomeIcon \n                        icon = \"map-marker-alt\" \n                        className = \"RestaurantInfo__icon\"\n                        aria-label = \"address:\" />\n                        {result.location.display_address[0]}, {result.location.display_address[1]}\n                    </p>\n                    \n                    <p className = \"RestaurantInfo__para\">\n                        <FontAwesomeIcon \n                        icon = \"phone\" \n                        className = \"RestaurantInfo__icon\"\n                        aria-label = \"phone number:\" />\n                        {result.phone}\n                    </p>\n\n                    <img \n                        src = {require(`./assets/yelp_stars/regular/${result.rating}.png`)}\n                        alt = {`yelp ratings: ${result.rating}/5`}\n                        className = \"RestaurantInfo__rating\"/>\n\n                    <p className = \"RestaurantInfo__reviewCount\"> Based on {result.review_count} Reviews</p>\n               \n                    <a \n                        href= {result.url} \n                        className = \"RestaurantInfo__website\">\n                            More information on Yelp\n                    </a>\n                    <a\n                         \n                    />\n\n                </div>  \n                   \n                    </div>\n            );\n        });\n\n        return(\n\n    <div>\n        {    (this.state.i < 5) ?     \n            <div className=\"RestuarantList__gallery\">{RestaruantList[(this.state.i)]}\n           <h5> Press your choice! </h5>\n            \n            <button onClick={(e) => {this.state.no.push(this.state.id[this.state.i]);  this.setState(prevState => {\n       return {i: prevState.i + 1}\n    })}}><img src=\"NO.png\" height=\"50px\" width=\"50px\" /></button>\n\n                <button onClick={(e) => {this.state.yes.push(this.state.id[this.state.i]);\n                 this.state.like.push(<h4><div className=\"RestuarantList__gallery\">{RestaruantList[(this.state.i)]}</div></h4>); \n                 this.setState(prevState => {\n       return {i: prevState.i + 1}\n    })}}><img src=\"YES.png\" height=\"50px\" width=\"50px\"/></button></div> : null\n}\n\n   \n   \n\n\n {    (this.state.i == 5) ?    <Cl like = {this.state.like} />   : null  }\n\n\n\n</div>\n\n\n        )}\n    \n\n\n    render() {\n        console.log(this.state.like);\n\n\n        return (\n\n            <section className=\"RestuarantList\">\n                {this.state.results.length ? this.renderRestaurantInfo() : this.renderEmptyState()}\n\n                {/*conditional rendering for error state - when this.state.errorState is not true*/}\n                {!!this.state.errorState &&\n                    <h1>{this.state.error}</h1>\n                }   \n            </section>\n        )}\n\n\n\n}\nexport default RestaurantList"]},"metadata":{},"sourceType":"module"}